# NATS Server Configuration for ReTiCh
# Optimized for high performance messaging

# Server name
server_name: retich-nats

# Networking
port: 4222
http_port: 8222

# Connection limits for high performance
max_connections: 100000
max_payload: 8MB
max_pending: 64MB

# Timeout settings
ping_interval: "2m"
ping_max: 2
write_deadline: "10s"

# JetStream configuration for message persistence
jetstream {
    store_dir: /data/jetstream
    max_mem: 1G
    max_file: 10G
}

# Logging
debug: false
trace: false
logtime: true

# Cluster configuration (prepared for production scaling)
# cluster {
#     name: retich-cluster
#     listen: 0.0.0.0:6222
#     routes: [
#         nats-route://nats-1:6222
#         nats-route://nats-2:6222
#         nats-route://nats-3:6222
#     ]
# }

# Limits per account
accounts {
    $SYS {
        users: [
            {user: admin, password: $NATS_ADMIN_PASSWORD}
        ]
    }
}
